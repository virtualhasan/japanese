import{c as I,r as t,u as y,s as J,j as e,S as T,O as N,B as o,C as p,a as A,b as E,d as O,e as B,f as V}from"./index-Dsm46Ux4.js";import{C as b}from"./circle-arrow-left-CaN9xyXP.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],P=I("CirclePlus",z);function L({vocabulary:d}){const[a,x]=t.useState(0),[m,h]=t.useState(!1),[r,u]=t.useState(localStorage.getItem("isJapaneseToBengali")==="true"),[n,f]=t.useState(JSON.parse(localStorage.getItem("ticklishWords")||"[]")),[j,g]=t.useState(!1),S=y(),[i,k]=t.useState([]);t.useEffect(()=>{k(J(d))},[d]),t.useEffect(()=>{var s;n.includes((s=i[a])==null?void 0:s.id)?g(!0):g(!1)},[a,n]),t.useEffect(()=>{f(JSON.parse(localStorage.getItem("ticklishWords")||"[]"))},[a,i]);const v=()=>{u(s=>(localStorage.setItem("isJapaneseToBengali",(!s).toString()),!s))},w=()=>{i.length>0&&(x(s=>i.length<s+2?0:s+1),h(!1))},C=s=>{const c=new Set(n);c.add(s),localStorage.setItem("ticklishWords",JSON.stringify(Array.from(c))),g(!0),f(Array.from(c))},W=s=>{localStorage.setItem("ticklishWords",JSON.stringify(n.filter(c=>c!==s))),g(!1),f(n.filter(c=>c!==s))},l=i[a]||null;return e.jsxs("div",{className:"flex-1 flex flex-col min-h-[75dvh] gap-3 p-3 items-center",children:[e.jsxs("div",{className:"flex  justify-center items-center gap-x-3",children:[e.jsx("span",{className:"font-bold",children:"বাং-জা"}),e.jsx(T,{defaultChecked:r,className:"data-[state=unchecked]:bg-primary",onCheckedChange:v}),e.jsx("span",{className:"font-bold",children:"জা-বাং"})]}),e.jsxs(N,{children:[e.jsx("div",{className:"rounded-lg w-full lg:max-w-max lg:min-w-96 ",children:l?e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontSize:"clamp(1rem, 50vw, 2.5rem)"},className:"font-bold mb-3",children:r?l.nihongo:l.bengali}),e.jsx("hr",{className:"border-border border-t-2 mb-2"}),e.jsx("p",{className:"text-base lg:text-lg text-foreground",children:r?" ":l.english})]}):e.jsx("p",{className:"text-lg",children:e.jsxs(o,{onClick:()=>S("/"),children:["আবার চেষ্টা করুন",e.jsx("span",{children:e.jsx(p,{})})]})})}),e.jsx("div",{className:"min-h-24",children:m&&l&&e.jsxs("h3",{className:"font-bold mt-4 lg:mt-0",children:[e.jsx("span",{style:{fontSize:"clamp(1rem, 50vw, 2rem)"},children:r?l.bengali:l.nihongo}),r&&e.jsx("p",{className:"text-base lg:text-lg text-foreground",children:l.english})]})}),e.jsxs(o,{onClick:()=>{j?W(l.id):C(l.id)},size:"sm",variant:"outline",className:A("absolute bottom-2 right-2 border-2 border-primary select-none",j?"border-red-600 text-red-600":""),children:[j?e.jsx(E,{}):e.jsx(P,{})," ধাঁধাপূর্ণ শব্দ"]})]}),e.jsxs("div",{className:"flex flex-grow-0 mt-2 gap-4 lg:flex-row lg:gap-8 w-full justify-center",children:[e.jsxs(o,{onClick:()=>h(!0),className:"rounded-lg select-none py-3 text-lg  lg:hover:scale-105 transition-transform lg:px-6",disabled:!l,children:["উত্তর দেখুন ",e.jsx(O,{})]}),e.jsxs(o,{onClick:w,className:"rounded-lg py-3 select-none text-lg  lg:hover:scale-105 transition-transform lg:px-6",children:["পরবর্তী শব্দ ",e.jsx(p,{})]})]})]})}function U(){const[d]=B(),[a]=t.useState(JSON.parse(decodeURIComponent(d.get("lessons")||"[]"))),[x,m]=t.useState([]),{vocabulary:h}=V(),r=y();return t.useEffect(()=>{if(a.length>0){const u=h.filter(n=>a.includes(n.lesson));m(u)}},[a]),x.length===0?e.jsx("div",{className:"flex justify-center items-center h-full p-4",children:e.jsxs(N,{children:[e.jsx("h1",{className:"text-3xl mb-5 text-destructive dark:text-card-foreground",children:"অন্তত একটি অধ্যায় নির্বাচন করতে হবে!"}),e.jsxs(o,{onClick:()=>{r("../books/1/lessons")},className:"rounded-lg py-3 text-lg lg:text-xl lg:hover:scale-105 transition-transform lg:px-6",children:[e.jsx("span",{children:e.jsx(b,{})}),"অধ্যায় নির্বাচনে ফিরে যান"]})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-row  justify-center",children:e.jsxs(o,{size:"sm",onClick:()=>{r("../books/1/lessons")},className:"rounded-lg text-lg lg:hover:scale-105 transition-transform lg:px-5",children:[e.jsx("span",{children:e.jsx(b,{})}),"অধ্যায় নির্বাচনে ফিরে যান"]})}),e.jsx(L,{vocabulary:x})]})}export{U as default};
