import{c as W,r as a,u as k,s as O,j as e,S as B,O as S,B as c,C as N,a as V,b as z,d as D,e as P,f as K}from"./index-CAr2ZV3O.js";import{C as b}from"./circle-arrow-left-SdeyVr6X.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],M=W("CirclePlus",L);function R({vocabulary:d}){const[t,x]=a.useState(0),[m,h]=a.useState(!1),[n,f]=a.useState(localStorage.getItem("isJapaneseToBengali")==="true"),[r,u]=a.useState(JSON.parse(localStorage.getItem("ticklishWords")||"[]")),[j,g]=a.useState(!1),v=k(),[o,C]=a.useState([]);a.useEffect(()=>{C(O(d))},[d]),a.useEffect(()=>{var l;r.includes((l=o[t])==null?void 0:l.id)?g(!0):g(!1)},[t,r]),a.useEffect(()=>{u(JSON.parse(localStorage.getItem("ticklishWords")||"[]"))},[t,o]);const w=()=>{f(l=>(localStorage.setItem("isJapaneseToBengali",(!l).toString()),!l))},I=()=>{o.length>0&&(x(l=>o.length<l+2?0:l+1),h(!1))},A=l=>{const i=new Set(r);i.add(l),localStorage.setItem("ticklishWords",JSON.stringify(Array.from(i))),g(!0),u(Array.from(i))},J=l=>{localStorage.setItem("ticklishWords",JSON.stringify(r.filter(i=>i!==l))),g(!1),u(r.filter(i=>i!==l))},s=o[t]||null,[T,E]=a.useState(!1),p=()=>{s!=null&&s.kanji&&E(l=>!l)},y=()=>s!=null&&s.kanji?T?s.kanji:s.nihongo:s==null?void 0:s.nihongo;return e.jsxs("div",{className:"flex-1 flex flex-col min-h-[75dvh] gap-3 p-3 items-center",children:[e.jsxs("div",{className:"flex  justify-center items-center gap-x-3",children:[e.jsx("span",{className:"font-bold",children:"বাং-জা"}),e.jsx(B,{defaultChecked:n,className:"data-[state=unchecked]:bg-primary",onCheckedChange:w}),e.jsx("span",{className:"font-bold",children:"জা-বাং"})]}),e.jsxs(S,{children:[e.jsx("div",{className:"rounded-lg w-full lg:max-w-max lg:min-w-96 ",children:s?e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontSize:"clamp(1rem, 50vw, 2.5rem)"},className:"font-bold mb-3",children:n?e.jsx("span",{className:"select-none",onClick:p,children:y()}):s.bengali}),e.jsx("hr",{className:"border-border border-t-2 mb-2"}),e.jsx("p",{className:"text-base lg:text-lg text-foreground",children:n?" ":s.english})]}):e.jsx("p",{className:"text-lg",children:e.jsxs(c,{onClick:()=>v("/"),children:["আবার চেষ্টা করুন",e.jsx("span",{children:e.jsx(N,{})})]})})}),e.jsx("div",{className:"min-h-24",children:m&&s&&e.jsxs("h3",{className:"font-bold mt-4 lg:mt-0",children:[e.jsx("span",{style:{fontSize:"clamp(1rem, 50vw, 2rem)"},children:n?s.bengali:e.jsx("span",{className:"select-none",onClick:p,children:y()})}),n&&e.jsx("p",{className:"text-base lg:text-lg text-foreground",children:s.english})]})}),e.jsxs(c,{onClick:()=>{j?J(s.id):A(s.id)},size:"sm",variant:"outline",className:V("absolute bottom-2 right-2 border-2 border-primary select-none",j?"border-red-600 text-red-600":""),children:[j?e.jsx(z,{}):e.jsx(M,{})," ধাঁধাপূর্ণ শব্দ"]})]}),e.jsxs("div",{className:"flex flex-grow-0 mt-2 gap-4 lg:flex-row lg:gap-8 w-full justify-center",children:[e.jsxs(c,{onClick:()=>h(!0),className:"rounded-lg select-none py-3 text-lg  lg:hover:scale-105 transition-transform lg:px-6",disabled:!s,children:["উত্তর দেখুন ",e.jsx(D,{})]}),e.jsxs(c,{onClick:I,className:"rounded-lg py-3 select-none text-lg  lg:hover:scale-105 transition-transform lg:px-6",children:["পরবর্তী শব্দ ",e.jsx(N,{})]})]})]})}function F(){const[d]=P(),[t]=a.useState(JSON.parse(decodeURIComponent(d.get("lessons")||"[]"))),[x,m]=a.useState([]),{vocabulary:h}=K(),n=k();return a.useEffect(()=>{if(t.length>0){const f=h.filter(r=>t.includes(r.lesson));m(f)}},[t]),x.length===0?e.jsx("div",{className:"flex justify-center items-center h-full p-4",children:e.jsxs(S,{children:[e.jsx("h1",{className:"text-3xl mb-5 text-destructive dark:text-card-foreground",children:"অন্তত একটি অধ্যায় নির্বাচন করতে হবে!"}),e.jsxs(c,{onClick:()=>{n("../books/1/lessons")},className:"rounded-lg py-3 text-lg lg:text-xl lg:hover:scale-105 transition-transform lg:px-6",children:[e.jsx("span",{children:e.jsx(b,{})}),"অধ্যায় নির্বাচনে ফিরে যান"]})]})}):e.jsxs("div",{children:[e.jsx("div",{className:"flex flex-row  justify-center",children:e.jsxs(c,{size:"sm",onClick:()=>{n("../books/1/lessons")},className:"rounded-lg text-lg lg:hover:scale-105 transition-transform lg:px-5",children:[e.jsx("span",{children:e.jsx(b,{})}),"অধ্যায় নির্বাচনে ফিরে যান"]})}),e.jsx(R,{vocabulary:x})]})}export{F as default};
